@model IEnumerable<DepositSale.Models.Contact>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Contact Database</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
   <tr>
      <th>
         @Html.DisplayNameFor(model => model.FirstName)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.LastName)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.RegisterDate)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.Street)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.PostCode)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.City)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.CountryCode)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.EmailAddress)
      </th>
      <th>
         @Html.DisplayNameFor(model => model.PhoneNumber)
      </th>
      <th>
         Type
      </th>
      <th>
         @Html.DisplayNameFor(model => model.AssociatedProvider.IBANAccount)
      </th>
      <th></th>
   </tr>

@foreach (var item in Model) {
   <tr>
      <td>
         @Html.DisplayFor(modelItem => item.FirstName)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.LastName)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.RegisterDate)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.Street)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.PostCode)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.City)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.CountryCode)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.EmailAddress)
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.PhoneNumber)
      </td>
      <td>
         @if (item.AssociatedProvider != null)
         {
            <text>Provider</text>
         }
         @if (item.AssociatedCustomer != null)
         {
            if (item.AssociatedProvider != null)
            {
               <text>|</text>
            }
            <text>Customer</text>
         }
      </td>
      <td>
         @Html.DisplayFor(modelItem => item.AssociatedProvider.IBANAccount)
      </td>
      <td>
         @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
         @Html.ActionLink("Details", "Details", new { id = item.ID }) |
         @Html.ActionLink("Delete", "Delete", new { id = item.ID })
      </td>
   </tr>
}

</table>
